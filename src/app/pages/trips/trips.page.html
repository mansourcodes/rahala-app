<ion-header>
  <ion-toolbar color="secondary">
    <ion-searchbar placeholder="Search..."></ion-searchbar>
  </ion-toolbar>

  <ion-toolbar color="secondary">
    <ion-buttons slot="start">
      <ion-button color="light" (click)="openFiltersManu()">
        <ion-icon slot="start" name="ios-funnel"></ion-icon>
        Filter
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="primary">
      <ion-chip color="light">
        <ion-label>Button Chip</ion-label>
        <ion-icon name="close-circle"></ion-icon>
      </ion-chip>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-menu side="start" menuId="filterManu" content-id="content">
  <ion-header>
    <ion-toolbar color="secondary">
      <ion-title>Filters</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content>
    <ion-list>
      <ion-item>
        <ion-label>Food Options</ion-label>
        <ion-select
          multiple="true"
          cancelText="Nah"
          okText="Okay!"
          placeholder="Select One"
          [(ngModel)]="filtersForm.foodOptions"
          (ngModelChange)="onFilterUpdate()"
        >
          <ion-select-option
            *ngFor="let item of foodOptionsList"
            selected="{{item.selected}}"
            >{{item.val}}x</ion-select-option
          >
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-label>Number of Days</ion-label>
        <ion-range
          min="3"
          max="16"
          step="1"
          [(ngModel)]="filtersForm.numOfDays"
          (ngModelChange)="onFilterUpdate()"
          snaps
          dual-knobs
          pin
          color="secondary"
        >
          <ion-label slot="start">3</ion-label>
          <ion-label slot="end">16</ion-label>
        </ion-range>
      </ion-item>
    </ion-list>
    <ion-button color="success" expand="block" (click)="closeFiltersManu()">
      <ion-icon slot="start" name="ios-funnel"></ion-icon>
      Done
    </ion-button>
    {{filtersForm |json}} {{selectedFoodOptions |json}}
  </ion-content>
</ion-menu>

<ion-content id="content" class="ion-padding">
  {{routerQueryParams | json}}
  <ion-chip color="secondary">
    <ion-label color="dark">Secondary w/ Dark label</ion-label>
  </ion-chip>

  <ion-chip>
    <ion-icon name="pin"></ion-icon>
    <ion-label>Default</ion-label>
  </ion-chip>

  <ion-chip>
    <ion-icon name="heart" color="dark"></ion-icon>
    <ion-label>Default</ion-label>
  </ion-chip>

  <ion-grid>
    <ion-row>
      <ion-col size="12" size-sm="8" offset-sm="2">
        <div *ngIf="isLoading" class="ion-text-center">
          <ion-spinner color="primary"></ion-spinner>
        </div>
        <div
          class="ion-text-center"
          *ngIf="!isLoading && relevantTrips.length == 0"
        >
          <p>No offers found! Please create one first!</p>
          <ion-button color="primary" routerLink="/places/tabs/offers/new"
            >Offer New Place</ion-button
          >
        </div>

        <div *ngIf="!isLoading && relevantTrips.length > 0">
          <ion-virtual-scroll [items]="relevantTrips " approxItemHeight="182px">
            <ion-card *virtualItem="let trip ">
              <ion-card-header>
                {{trip.name}}
              </ion-card-header>
              <ion-card-subtitle>{{trip.id}}</ion-card-subtitle>

              <ion-card-content>
                <p>{{trip.cities}}</p>
              </ion-card-content>
              <ion-button color="primary">
                next
              </ion-button>
            </ion-card>
          </ion-virtual-scroll>
        </div>

        <ion-infinite-scroll
          threshold="15%"
          (ionInfinite)="loadMoreTrips($event)"
        >
          <ion-infinite-scroll-content
            loadingSpinner="bubbles"
            loadingText="Loading more data..."
          >
          </ion-infinite-scroll-content>
        </ion-infinite-scroll>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
